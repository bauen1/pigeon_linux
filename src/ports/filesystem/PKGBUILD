#
#
#

pkgname=filesystem
pkgver=1.0
pkgrel=1
pkgdesc="The filesystem base for pigeon linux"
arch=('any')
url="https://github.com/bauen1/pigeon_linux"
license=('MIT')
groups=('core')
#makedepends=('')
#checkdepends=('')
backup=('etc/issue' 'etc/motd' 'etc/shells' 'etc/fstab')
#options=('')
#install=('')
#changelog=('') # TODO:
source=('issue' 'motd' 'shells' 'fstab')
sha256sums=('SKIP'
            'SKIP'
            'SKIP'
            'SKIP') # TODO:

package() {
  # TODO: proper permissions
  install -d -m755 $pkgdir/bin
  install -d -m755 $pkgdir/boot
  install -d -m755 $pkgdir/dev
  install -d -m755 $pkgdir/dev/{pts,shm}
  install -d -m755 $pkgdir/etc
  install -m 0644 fstab $pkgdir/etc/fstab
  install -m 0644 issue $pkgdir/etc/issue
  install -m 0644 motd $pkgdir/etc/motd
  ln -s /proc/self/mounts $pkgdir/etc/mtab
  install -m 0644 shells $pkgdir/etc/shells
  install -d -m755 $pkgdir/home
  install -d -m755 $pkgdir/lib{,32}
  ln -s lib $pkgdir/lib64
  install -d -m755 $pkgdir/mnt
  # no opt
  install -d -m555 $pkgdir/proc
  install -d -m750 $pkgdir/root
  install -d -m755 $pkgdir/run
  install -d -m755 $pkgdir/sbin
  install -d -m555 $pkgdir/sys
  install -d -m1777 $pkgdir/tmp
  install -d -m755 $pkgdir/usr
  install -d -m755 $pkgdir/usr/bin
  install -d -m755 $pkgdir/usr/include
  install -d -m755 $pkgdir/usr/lib{,32}
  ln -s lib $pkgdir/usr/lib64
  install -d -m755 $pkgdir/usr/sbin
  install -d -m755 $pkgdir/usr/share
  install -d -m755 $pkgdir/usr/share/man
  install -d -m755 $pkgdir/usr/share/man/man{1,2,3,4,5,6,7,8}
  install -d -m755 $pkgdir/usr/src
  ln -s ../var $pkgdir/var
  install -d -m755 $pkgdir/var
  install -d -m755 $pkgdir/var/cache
  install -d -m755 $pkgdir/var/cache/pacman
  install -d -m755 $pkgdir/var/cache/pacman/pkg
  install -d -m755 $pkgdir/var/empty
  install -d -m755 $pkgdir/var/ftp
  install -d -m755 $pkgdir/var/lib
  install -d -m755 $pkgdir/var/lib/pacman
  install -d -m755 $pkgdir/var/lock
  install -d -m755 $pkgdir/var/log
  install -d -m755 $pkgdir/var/log/old
  ln -s spool/mail $pkgdir/var/mail
  install -d -m755 $pkgdir/var/run
  install -d -m755 $pkgdir/var/run/utmp
  install -d -m755 $pkgdir/varspool
  install -d -m755 $pkgdir/var/spool/mail
  install -d -m755 $pkgdir/var/tmp
  install -d -m755 $pkgdir/var/www
}
